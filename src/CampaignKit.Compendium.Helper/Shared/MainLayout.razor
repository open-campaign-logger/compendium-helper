@using CampaignKit.Compendium.Helper.Pages
@inherits LayoutComponentBase
<RadzenDialog />
<RadzenNotification />
<RadzenTooltip />
<RadzenContextMenu />

<RadzenLayout>
    <RadzenHeader>
        <div class="d-flex align-items-center">
            <RadzenImage Src="/images/logo.png" />
            <RadzenMenu>
                <RadzenMenuItem Text="File" Icon="folder">
                    <RadzenMenuItem Text="New.." Icon="add" Click="ShowNewDialog"/>
                    <RadzenMenuItem Text="Upload..." Icon="file_upload" Click="ShowUploadDialog" />
                    <RadzenMenuItem Text="Download..." Icon="file_download" Click="OnDownloadSelected" Visible="(SelectedCompendium != null)"/>
                    <hr class="separator mx-2 text-dark">
                    <RadzenMenuItem Text="W.O.I.N." Icon="folder" Click="@(args => ShowPackageDialog(_packages["woin"][0], _packages["woin"][1]))" />
                </RadzenMenuItem>
                <RadzenMenuItem Text="Generate" Icon="loop" Click="OnGenerate" Visible="(SelectedCompendium != null)"></RadzenMenuItem>
            </RadzenMenu>
        </div>
    </RadzenHeader>
    <RadzenBody>
        <Body SelectedCompendium="SelectedCompendium" ></Body>
    </RadzenBody>
</RadzenLayout>

@code{

    /// <summary>
    /// Dictionary containing package names and locations.
    /// </summary>
    private Dictionary<string, List<string>> _packages = new()
    {
        { "woin", new List<string> 
            { 
                "W.O.I.N.",
                "module_woin.json"
            }
        },
    };
}